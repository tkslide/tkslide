<!-- generated by $Id: snopea.sno,v 1.33 2015-01-02 03:31:20 phil Exp $ -->
<html>
<head>
<title>SNOBOL4FUNC(1) | CSNOBOL4B 2.2 | December 5, 2020</title>
</head>
<body>
<h1>SNOBOL4FUNC(1) | CSNOBOL4B 2.2 | December 5, 2020</h1>
<h2>NAME</h2>
snobol4func &ndash; SNOBOL4 summary of built-in functions
<h2>DESCRIPTION</h2>
<dl>
<p>
<dt>
<B>ANY(</B><I>charset</I><B>)</B>
<dd>
Pattern: returns a pattern that matches one character in the <B>STRING</B>
<I>charset</I>.
<I>Standard</I>.
<p>
<dt>
<B>APPLY(</B><I>func,arg1,...</I><B>)</B>
<dd>
Function: calls function <I>func</I> with the supplied arguments.
<I>Standard</I>.
<p>
<dt>
<B>ARBNO(</B><I>pattern</I><B>)</B>
<dd>
Pattern: returns a pattern that matches zero or more repeats of <I>pattern</I>.
<I>Standard</I>.
<p>
<dt>
<B>ARG(</B><I>func,n</I><B>)</B>
<dd>
Function: returns the name of the <I>n</I>th argument to function <I>func</I>.
<I>Standard</I>.
<p>
<dt>
<B>ARRAY(</B><I>proto,value</I><B>)</B>
<dd>
Data: Creates an ARRAY object.
<I>Standard</I>.
<p>
<dt>
<B>ATAN(</B><I>arg</I><B>)</B>
<dd>
Math: Returns the principal value of the arc tangent of its argument.
<I>Catspaw Macro SPITBOL extension, added in CSNOBOL4 1.4</I>.
<p>
<dt>
<B>BACKSPACE(</B><I>unit</I><B>)</B>
<dd>
I/O: Not implemented!! See <B>SET()</B> and <B>SSET()</B>.
<I>Standard</I>.
<p>
<dt>
<B>BREAK(</B><I>charset</I><B>)</B>
<dd>
Pattern: Returns a pattern that matches successively longer runs
(zero or more) characters NOT in string <I>charset</I>.
<I>Standard</I>.
<p>
<dt>
<B>BREAKX(</B><I>charset</I><B>)</B>
<dd>
Pattern: A pattern function used for fast
scanning.  <B>BREAKX(</B><I>str</I><B>)</B> is equivalent to
<B>BREAK(</B><I>str</I><B>) ARBNO(LEN(1) BREAK(</B><I>str</I><B>))</B>.
<p>
<dt>

<dd>
In other words BREAKX matches a sequence of ever larger strings
terminated by a break set.  BREAKX can be used as a faster matching
replacement for <B>ARB</B>: <B>BREAKX('S') 'STRING'</B> always runs faster
than <B>ARB 'STRING'</B> since it only attempts matching <B>'STRING'</B> at
locations where an <B>'S'</B> has been detected.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98</I>.
<p>
<dt>
<B>CHAR(</B><I>n</I><B>)</B>
<dd>
String: takes an integer from 0 to 255 and returns the
<I>n</I>th character in <B>&amp;ALPHABET</B>.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98</I>.
SNOBOL4+ has a <B>CHR()</B> function.
<p>
<dt>
<B>CHOP(</B><I>real</I><B>)</B>
<dd>
Math: truncates the fractional part of its argument
(rounding towards zero), and returns a REAL value.
<I>Catspaw SNOBOL4+ extension(?), added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>CLEAR(</B><I></I><B>)</B>
<dd>
Interpreter: Clears ALL natural variable values (including predefined pattern
variables <B>ABORT</B>, <B>ARB</B>, <B>BAL</B>, <B>FENCE</B>, <B>REM</B>, and <B>SUCCEED</B>).
<I>Standard</I>.
<p>
<dt>
<B>CODE(</B><I>str</I><B>)</B>
<dd>
Interpreter: Compiles the argument as source code and returns a <B>CODE</B>
value, suitable for use with <B>:&lt;</B><I>code</I><B>&gt;</B>.  If execution falls
off the end of the code, the program will exit.
<I>Standard</I>.
<p>
<dt>
<B>COLLECT(</B><I>n</I><B>)</B>
<dd>
Interpreter:  Triggers garbage collection.  Returns failure if less than
<I>n</I> bytes are available after collection.
<I>Standard</I>.
<p>
<dt>
<B>CONVERT(</B><I>value,type</I><B>)</B>
<dd>
Data: Convert <I>value</I> to data type <I>type</I>.  Can convert TABLE to ARRAY
for iteration over members.
<I>Standard</I>.
Supports conversion to <B>NUMERIC</B>, 
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.99.4</I>.
<p>
<dt>
<B>COPY(</B><I>value</I><B>)</B>
<dd>
Data: returns a copy of the supplied <I>value</I>.  Copies of 
<B>ARRAY</B>, <B>DATA</B> and <B>TABLE</B> objects are &ldquo;shallow&rdquo;: the returned
object will point to the same objects as the source container.
<I>Standard</I>.
<p>
<dt>
<B>COS(</B><I>argument</I><B>)</B>
<dd>
Math: Return cosine of <I>argument</I> in radians.
<I>Catspaw Macro SPITBOL extension, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>DATA(</B><I>prototype</I><B>)</B>
<dd>
Data: Declares a <B>DATA</B> struct type. <I>prototype</I> is of the form
<I>name</I><B>(</B><I>field</I>,...<B>)</B>.  <I>name</I> is declared as a &ldquo;constructor&rdquo;
function, and each <I>field</I> is declared as an &ldquo;accessor&rdquo; function
for the type.  Any number of types can use the same <I>field</I> names
(regardless of position).
<I>Standard</I>.
<p>
<dt>
<B>DATATYPE(</B><I>value</I><B>)</B>
<dd>
Data: Returns a string with the data type of <I>value</I>, one of:
<B>ARRAY</B>, <B>BLOCK</B>, <B>CODE</B>, <B>EXPRESSION</B>, <B>EXTERNAL</B>, <B>INTEGER</B>,
<B>NAME</B>, <B>PATTERN</B>, <B>REAL</B>, <B>STRING</B>, <B>TABLE</B>, or a <B>DATA()</B> type name.
<I>Standard</I>.
<p>
<dt>
<B>DATE()</B>
<dd>
String: returns <I>MM/DD/YYYY HH:MM:SS</I>.
<I>Standard</I>.
For compatibility with Catspaw Macro SPITBOL,
since CSNOBOL4 version 0.99.4
<B>DATE(0)</B> returns strings of the form <I>MM/DD/YY HH:MM:SS</I>, and
<B>DATE(2)</B> returns strings of the form <I>YYYY-MM-YY HH:MM:SS</I>.
<p>
<dt>
<B>DEFINE(</B><I>prototype[,label]</I><B>)</B>
<dd>
Functions: declares a function using <I>prototype</I> of the form
&ldquo;<I>name</I><B>(</B>[<I>argname</I>,...]<B>)</B>[<I>localname</I>,...]&rdquo;.
Optional <I>label</I> supplies the function entry point.
<I>Standard</I>.
<p>
<dt>
<B>DELETE(</B><I>filename</I><B>)</B>
<dd>
I/O: A predicate which tries to remove the
named file, and fails if it cannot.
<I>SITBOL extension: added in CSNOBOL4 version 0.98.5</I>.
<p>
<dt>
<B>DETACH(</B><I>name</I><B>)</B>
<dd>
I/O:  Detach any I/O associations for named <I>variable</I>.
<I>Standard</I>.
<p>
<dt>
<B>DIFFER(</B><I>val1,val2</I><B>)</B>
<dd>
Predicate:  Succeeds if the supplied values refer to different objects,
strings, or numeric values.
<I>Standard</I>.
<p>
<dt>
<B>DUMP(</B><I>n</I><B>)</B>
<dd>
Data: dumps natural variable values to stdout if argument <I>n</I> is non-zero.
<I>Standard</I>.
<p>
<dt>
<B>DUPL(</B><I>string,n</I><B>)</B>
<dd>
String: Returns a string with <I>n</I> copies of argument <I>string</I>.
<I>Standard</I>.
<p>
<dt>
<B>ENDFILE(</B><I>unit</I><B>)</B>
<dd>
I/O:  Closes the file attached to I/O unit <I>unit</I>.
<I>Standard</I>.
<p>
<dt>
<B>EQ(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: Succeeds if <I>i1</I> is arithmetically equal to <I>i2</I>.
<I>Standard</I>.
<p>
<dt>
<B>EVAL(</B><I>v</I><B>)</B>
<dd>
Interpreter: Evaluates <I>v</I> (an unevaluated expression,
<B>INTEGER</B>, <B>REAL</B>, or <B>STRING</B>), and returns the result;
returns failure on syntax error or the expression fails.
<I>Standard</I>.
<p>
<dt>
<B>EXIT(</B><I>arg</I><B>)</B>
<dd>
System: Passes process control to a shell to execute <I>arg</I> as a command.
Returns failure if <I>arg</I> is not a <B>STRING</B>.
<I>Macro SPITBOL extension(?), added in CSNOBOL</I>.
Does <B>NOT</B> implement &ldquo;save file&rdquo; feature of <B>SPITBOL</B>.
<p>
<dt>
<B>EXP(</B><I>x</I><B>)</B>
<dd>
Math: Returns the value <B>e **</B> <I>x</I>.
<I>Catspaw SNOBOL4+ extension, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>EXTERNAL_DATATYPE(</B><I>x</I><B>)</B>
<dd>
Functions: Returns a string for the datatype name for an <B>EXTERNAL</B>
type returned by an external function created by <B>LOAD()</B>. Inspired
by the <B>DATACODE()</B> function in Fred Weigel's SNOBOL4X extensions.
<I>CSNOBOL4 extension, added in CSNOBOL4 version 2.2</I>.
<p>
<dt>
<B>EXTERNAL_MODULE_NAME(</B><I>x</I><B>)</B>
<dd>
Functions: Returns a string for (internal) module name for an
<B>EXTERNAL</B> type returned by an external function created by <B>LOAD()</B>.
<I>CSNOBOL4 extension, added in CSNOBOL4 version 2.2</I>.
<p>
<dt>
<B>EXTERNAL_MODULE_PATH(</B><I>x</I><B>)</B>
<dd>
Functions: returns a string for the path to an object file for the
module for an <B>EXTERNAL</B> type returned by an external function
created by <B>LOAD()</B>.
<I>CSNOBOL4 extension, added in CSNOBOL4 version 2.2</I>.
<p>
<dt>
<B>FIELD(</B><I>name,n</I><B>)</B>
<dd>
Data: Returns a string with the name of the <I>n</I>th member of
<B>DATA()</B> type <I>name</I>.
<I>Standard</I>.
<p>
<dt>
<B>FILE(</B><I>string</I><B>)</B>
<dd>
I/O: A predicate which tests if a file exists, and fails if it does not.
<I>SITBOL extension, added in CSNOBOL4 version 0.98.5</I>.
<p>
<dt>
<B>FILE_ABSPATH(</B><I>string</I><B>)</B>
<dd>
I/O: A predicate which returns null if its argument is an absolute file path,
and failure if the path is relative.
<I>CSNOBOL4 extension, added in CSNOBOL4 version 1.5</I>.
<p>
<dt>
<B>FILE_ISDIR(</B><I>string</I><B>)</B>
<dd>
I/O: A predicate which returns the null string if its argument is the
pathname of a directory, and returns failure if not.
<I>CSNOBOL4 extension, added in CSNOBOL4 version 1.5</I>.
<p>
<dt>
<B>FREEZE(</B><I>table</I><B>)</B>
<dd>
Data: prohibits creation of new entries in the referenced table.  This
is useful once a table has been initialized to avoid creating empty
entries on lookups that fail.  This can greatly improve program speed,
since frozen tables will not become clogged with empty entries.
Lookups for uninitialized entries will return the null string.
Attempts to assign to a non-existent entry will cause a &ldquo;Variable not
present where required&rdquo; error.
<I>Catspaw SNOBOL4+ extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>FUNCTION(</B><I>name</I><B>)</B>
<dd>
Function: A predicate which evaluates its argument as a string
(with case folding), and returns the null string if a function with that
name exists and fails if it does not.
<I>SITBOL extension, added in CSNOBOL4 version 0.99.44</I>.
<p>
<dt>
<B>GE(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: Succeeds if <I>i1</I> is arithmetically equal than or equal to <I>i2</I>.
<I>Standard</I>.
<p>
<dt>
<B>GT(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: Succeeds if <I>i1</I> is arithmetically equal than <I>i2</I>.
<I>Standard</I>.
<p>
<dt>
<B>HOST(</B><I>i,...</I><B>)</B>
<dd>
Host O/S functions. See <a href="snobol4host.3.html"><B>snobol4host</B>(3)</a>.
<I>Macro SPITBOL extension, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>IDENT(</B><I>v1,v2</I><B>)</B>
<dd>
Predicate: Succeeds if the supplied values refer to the same object,
string, or numeric value.
<I>Standard</I>.
<p>
<dt>
<B>INPUT(</B><I>variable,unit,opt,name</I><B>)</B>
<dd>
I/O:  Associate <I>variable</I> for input, see <a href="snobol4io.1.html"><B>snobol4io</B>(1)</a>.
<I>Standard</I>.*
<p>
<dt>
<B>INTEGER(</B><I>value</I><B>)</B>
<dd>
Predicate:  Succeed if <I>value</I> is an INTEGER.
<I>Standard</I>.
<p>
<dt>
<B>IO_FINDUNIT()</B>
<dd>
I/O: Returns an unused I/O unit number for
use with the <B>INPUT()</B> or <B>OUTPUT()</B> functions.  <B>IO_FINDUNIT()</B> is
meant for use in subroutines which can be reused.  <B>IO_FINDUNIT()</B>
will never return a unit number below 20.
<I>CSNOBOL4 extension, added in version 0.99.4</I>.
<p>
<dt>
<B>ITEM(</B><I>a,i1,...</I><B>)</B>
<dd>
Data:  Reference an element of an ARRAY or TABLE which is the result
of an expression (ie; <B>$</B><I>variable</I>).
<I>Standard</I>.
<p>
<dt>
<B>LABEL(</B><I>name</I><B>)</B>
<dd>
Predicate: Evaluates argument as a name (with case folding), and returns the
null string if a label with that name has been defined, and fails if
it does not.
<I>Steve Duff's Macro SPITBOL extension, added in CSNOBOL4 version 1.5</I>
(Added in CSNOBOL4 version 0.99.44, but unreliable until version 1.5).
<p>
<dt>
<B>LABELCODE(</B><I>name</I><B>)</B>
<dd>
Interpreter: Evaluates argument as a name (with case folding), and
returns the CODE (if any) associated with the label of that name,
or fails.
<I>SITBOL extension, added in CSNOBOL4 2.1</I>.
<p>
<dt>
<B>LE(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: tests if first argument is arithmetically less than or
equal to second argument.
<I>Standard</I>.
<p>
<dt>
<B>LEN(</B><I>n</I><B>)</B>
<dd>
Pattern:  Returns a PATTERN which matches exactly <I>n</I> characters.
<I>Standard</I>.
<p>
<dt>
<B>LEQ(</B><I>s1,s2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically equal to second argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LGE(</B><I>S1,S2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically greater than or equal to second
argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LGT(</B><I>s1,s2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically greater than second argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LLE(</B><I>s1,s2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically less than or equal to second
argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LLT(</B><I>s1,s2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically less than second argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LNE(</B><I>s1,s2</I><B>)</B>
<dd>
Predicate: tests if first argument is lexically different from second argument.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>LN(</B><I>value</I><B>)</B>
<dd>
Math: an alias for <B>LOG()</B>,
<I>Catspaw SNOBOL4+ extension, added in CSNOBOL4 version 1.4</I>.
<p>
<dt>
<B>LOAD(</B><I>prototype,file</I><B>)</B>
<dd>
Function:  Load an external function from dynamically loaded library <I>file</I>.
<I>Standard</I>.
<p>
<dt>
<B>LOCAL(</B><I>name,n</I><B>)</B>
<dd>
Interpreter: Returns a <B>STRING</B> with the <I>n</I>th argument to function named
<I>name</I>.
<I>Standard</I>.
<p>
<dt>
<B>LOG(</B><I>value</I><B>)</B>
<dd>
Math: returns the natural logarithm of its argument.
<I>Catspaw SNOBOL4+ extension, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>LPAD(</B><I>str,n,char</I><B>)</B>
<dd>
String: Takes the first argument (subject) string, and left pads it
out to the length specified in the second argument, using the first
character of the optional third argument.  If the third argument is
missing, or is the null string, spaces will be used for padding.  The
subject will be returned unmodified if already long enough.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98</I>.
<p>
<dt>
<B>LT(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: Succeeds if <I>i1</I> is arithmetically less than <I>i2</I>.
<I>Standard</I>.
<p>
<dt>
<B>NE(</B><I>i1,i2</I><B>)</B>
<dd>
Predicate: Succeeds if <I>i1</I> is arithmetically not equal to <I>i2</I>.
<I>Standard</I>.
<p>
<dt>
<B>NOTANY(</B><I>charset</I><B>)</B>
<dd>
Pattern:  Returns a pattern which matches on character NOT present in
STRING <I>charset</I>.
<I>Standard</I>.
<p>
<dt>
<B>OPSYN(</B><I>new,old,n</I><B>)</B>
<dd>
Interpreter: If <I>n</I> omitted (or zero), <I>new</I> and <I>old</I> are treated
as function names, and <I>new</I> becomes a synonym for <I>old</I>: A call to a
synonym MUST have the correct number of arguments; trailing arguments
can NOT be omitted.  If <I>n</I> is 1, <I>new</I> and <I>old</I> are treated as unary
operators, or function names.  If <I>n</I> is 2, <I>new</I> and <I>old</I> are treated
as binary operators, or function names.
<I>Standard</I>.
<p>
<dt>
<B>ORD(</B><I>string</I><B>)</B>
<dd>
String: returns the INTEGER ordinal value (zero to 255) of the
first character in its string argument (the inverse of <B>CHAR()</B>).
<I>CSNOBOL4 extension, added in version 0.99.44</I>.
SNOBOL4+ has an <B>ASC()</B> function.
<p>
<dt>
<B>OUTPUT(</B><I>variable,unit,options,name</I><B>)</B>
<dd>
I/O:  Associate <I>variable</I> for output, see <a href="snobol4io.1.html"><B>snobol4io</B>(1)</a>.
<I>Standard</I>*.
<p>
<dt>
<B>POS(</B><I>n</I><B>)</B>
<dd>
Pattern:  Returns a pattern which succeeds if the pattern matching
cursor is at (non-negative INTEGER) position <I>n</I>, or fails.
<I>Standard</I>.
<p>
<dt>
<B>PROTOTYPE(</B><I>a</I><B>)</B>
<dd>
Data:  Returns the prototype of ARRAY <I>a</I>.
<I>Standard</I>.
<p>
<dt>
<B>REMDR(</B><I>n,m</I><B>)</B>
<dd>
Math:  Returns the remainder from dividing INTEGER <I>n</I> with INTEGER <I>m</I>.
<I>Standard</I>.
<p>
<dt>
<B>RENAME(</B><I>new,old</I><B>)</B>
<dd>
I/O: A predicate which attempts
to rename the file named by <I>old</I> to the name <I>new</I>.
<I>SITBOL extension: added in CSNOBOL4 version 0.98.5</I>.
Unlike the <B>SITBOL</B> version, if the target file exists, it will be removed.
<p>
<dt>
<B>REPLACE(</B><I>str,charset1,charset2</I><B>)</B>
<dd>
String: Returns a string with each character <I>str</I> that appears in
<I>charset1</I> replaced by the corresponding character in <charset2>.
<I>Standard</I>.
<p>
<dt>
<B>REVERSE(</B><I>str</I><B>)</B>
<dd>
String: returns its subject string in reverse order. 
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>REWIND(</B><I>unit</I><B>)</B>
<dd>
I/O:  Reset input pointer of file associated with <I>unit</I> to start of file.
<I>Standard</I>.
<p>
<dt>
<B>RPAD(</B><I>str,n,char</I><B>)</B>
<dd>
String: Takes the first argument (subject) string, and right pads it
out to the length specified in the second argument, using the first
character of the optional third argument.  If the third argument is
missing, or is the null string, spaces will be used for padding.  The
subject will be returned unmodified if already long enough.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98</I>.
<p>
<dt>
<B>RPOS(</B><I>n</I><B>)</B>
<dd>
Pattern: Returns a pattern which succeeds if the pattern
matching cursor is at (non-negative INTEGER) position <I>n</I>, counting
from the end of the subject string, or fails.
<I>Standard</I>.
<p>
<dt>
<B>RSORT(</B><I>ta,c</I><B>)</B>
<dd>
Data: see <B>SORT()</B>.
<I>Macro SPITBOL extension(?), added in CSNOBOL4 version 0.98</I>.
<p>
<dt>
<B>RTAB(</B><I>n</I><B>)</B>
<dd>
Pattern: Returns a PATTERN which matches all characters
up to (non-negative INTEGER) position <I>n</I>, counting from the end of
the subject string; matching fails if cursor is past position <I>n</I>.
<B>REM</B> is a synonym for <B>RTAB(0)</B>.
<I>Standard</I>.
<p>
<dt>
<B>SERV_LISTEN(</B><I>family,type,service</I><B>)</B>
<dd>
I/O: takes three <B>STRING</B> arguments and makes <a href="snobol4.1.html"><B>snobol4</B>(1)</a> into a
network server process.  <I>family</I> must be either <TT>"inet"</TT> for an Internet
Protocol v4 socket, <TT>"inet6"</TT> for an Internet Protocol v6 socket, or
<TT>"unix"</TT> for a local (&ldquo;unix domain&rdquo;) socket.  The second argument, TYPE
must be <TT>"stream"</TT>, and the third argument, <I>service</I> must be a port
number or service name (for an internet socket), or a pathname (for a
<TT>"unix"</TT> socket).  <B>SERV_LISTEN()</B> listens for incoming requests, accepts
them, then &ldquo;forks&rdquo; a child process and returns an integer file
descriptor which can be opened for bidirectional I/O using a
"/dev/fd/n" magic pathname.  The original (&ldquo;parent&rdquo;) process never
returns from the <B>SERV_LISTEN()</B> call.  This function is only available
on systems with the &ldquo;fork&rdquo; system call, which makes a child process
which is an identical copy of the parent process.
<I>CSNOBOL4 extension, added in version 0.99.44</I>
<p>
<dt>
<B>SET(</B><I>unit,offset,whence</I><B>)</B>
<dd>
I/O: Seeks the file pointer of an open file.  The
first argument is an I/O unit number, the second is an integer offset.
The third argument, an integer determines from &ldquo;whence&rdquo; the file
pointer will be adjusted.  If <I>whence</I> is zero the starting point is the
beginning of the file, if <I>whence</I> is one, the starting point is the
current file pointer, and if <I>whence</I> is two, the starting point is the
end of the file.  <B>SET()</B> returns the new file pointer value.  On
systems with 64-bit file pointers and 32-bit integers the values
will be truncated to 32 bits, and only the first and last 4 gigabytes
of a file can be accessed directly: see <B>SSET()</B>.
<I>Catspaw Macro SPITBOL extension, added in CSNOBOL4 version 0.99.1</I>.
<p>
<dt>
<B>SETEXIT(</B><I>label</I><B>)</B>
<dd>
Interpreter: The argument to <B>SETEXIT()</B> is the name of a label to
pass control to if a subsequent error occurs, when the keyword
<B>&amp;ERRLIMIT</B> is non-zero.  The value of <B>&amp;ERRLIMIT</B> is positive, it is
decremented when the error trap occurs.  A <B>SETEXIT()</B> call with a
null argument causes cancellation of the intercept.  Subsequent
errors will terminate execution as usual with an error message.  The
result returned by <B>SETEXIT()</B> is the previous intercept setting
(i.e., a label name or null if no intercept is set).  This can be used
to save and restore the <B>SETEXIT()</B> conditions in a recursive
environment, or chain handlers.
<p>
<dt>

<dd>
The error intercept routine may inspect <B>&amp;ERRTYPE</B>,
<B>&amp;ERRTEXT</B>, <B>&amp;LASTNO</B>, <B>&amp;LASTFILE</B>, <B>&amp;LASTLINE</B>,
and take one of the following actions:
<p>
<dt>

<dd>
1.  Branching to the special label <B>ABORT</B> causes error processing to
resume as though no error intercept had been set.
<p>
<dt>

<dd>
2.  Branching to the special label <B>CONTINUE</B> causes program execution to
resume by taking the failure exit of the statement in error.
<p>
<dt>

<dd>
3.  Branching to the special label <B>SCONTINUE</B> causes execution to
resume at the point of interruption.
<p>
<dt>

<dd>
4. If the error occurred inside a function (<B>&amp;FNCLEVEL</B> is
non-zero), branch to labels <B>RETURN</B>, <B>FRETURN</B>, or <B>NRETURN</B>
to return from the function.
<p>
<dt>

<dd>
The error intercept routine must reissue the <B>SETEXIT()</B> in order to
catch further errors. Handlers cannot be nested: only one copy of the
saved execution state is kept.
<p>
<dt>

<dd>
<I>SPITBOL 360 extension, added in CSNOBOL4 version 1.4</I>.
<p>
<dt>
<B>SIN(</B><I>argument</I><B>)</B>
<dd>
Math: Return sine of <I>argument</I> in radians.
<I>Catspaw Macro SPITBOL extension, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>SIZE(</B><I>string</I><B>)</B>
<dd>
String: returns the length of the <B>STRING</B> argument.
<I>Standard</I>.
<p>
<dt>
<B>SORT(</B><I>ta,c</I><B>)</B>
<dd>
Data: takes two arguments.  The first can be either an array or a table.
If the first argument is an array,
it may be singly-dimensioned in which case the second argument, if
non-null should indicate the name of a field of a programmer defined
data type to use to access the sort key.  Otherwise the first argument
should be a table or a doubly-dimensioned array, in which case the
second argument may an integer indicating the array column on which to
sort.  If the second argument is null, it is taken to be 1.  The array
(or table) is not modified; a new array is allocated and returned.
<B>SORT()</B> sorts elements in ascending order, while <B>RSORT()</B> sorts in
descending order.
<p>
<dt>

<dd>
Example: for a table <TT>TAB</TT> of integers, indexed by strings being used
to tabulate word counts <TT>FREQ = RSORT(TAB,2)</TT> returns an array such
that <TT>FREQ&lt;1,1&gt;</TT> contains the most frequent word while
<TT>FREQ&lt;1,2&gt;</TT> contains the number of occurrences of that word.
While <TT>WORDS = SORT(TAB,1)</TT> returns an array with the rows by the
lexicographical ordering of the words; <TT>WORDS&lt;1,1&gt;</TT> contains
the lexicographically first word and <TT>WORDS&lt;1,2&gt;</TT> contains the
number of occurrences of that word.
<I>Macro SPITBOL extension(?), added in CSNOBOL4 version 0.98</I>.
<p>
<dt>
<B>SPAN(</B><I>charset</I><B>)</B>
<dd>
Pattern: Returns a pattern that matches the longest run of one or more
characters in string <I>charset</I>.
<I>Standard</I>.
<p>
<dt>
<B>SQRT(</B><I>argument</I><B>)</B>
<dd>
Math: Return the square root. Fails if the argument is negative.
<I>Catspaw Macro SPITBOL extension, added in CSNOBOL4 version 0.90</I>.
<p>
<dt>
<B>SSET(</B><I>unit,offset,whence,scale</I><B>)</B>
<dd>
I/O: &ldquo;scaled set&rdquo; function, to handle files larger than 4GB
on systems with 32-bit <B>INTEGER</B> variables.
The first three arguments analogous to the same arguments for the
<B>SET()</B> function.  The last parameter is used as a multiplicative
scaling factor on the <B>offset</B> parameter, and as a divisor on the
return value.  When used in combination with relative <B>SET()</B> calls
(whence of one), any file offset can be achieved, even when system
file offsets are larger than can be represented in a SNOBOL4
<B>INTEGER</B>.  Support for &ldquo;Large Files&rdquo; is enabled when available,
but not all file systems support large files.
<I>CSNOBOL4 extension, added in version 0.99.44</I>.
<p>
<dt>
<B>STOPTR(</B><I>name,type</I><B>)</B>
<dd>
Interpreter:  Disable <I>type</I> tracing for <I>name</I>.
<I>Standard</I>.
<I>SPITBOL 360 extension of first letter of trace type accepted since CSNOBOL4 2.0</I>.
<p>
<dt>
<B>SUBSTR(</B><I>subject,pos,len</I><B>)</B>
<dd>
String: Takes a subject string as its first argument, and returns
the substring starting at the position specified by the second
argument (one-based) with a length specified by the third argument.
If the third argument is missing or zero, the remainder of the string
is returned.
<I>SPITBOL 360 extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>TAB(</B><I>n</I><B>)</B>
<dd>
Pattern:  Returns a PATTERN which matches all characters up
to (non-negative INTEGER) position <I>n</I>;  matching fails if cursor is past
position <I>n</I>.
<I>Standard</I>.
<p>
<dt>
<B>TABLE(</B><I>n,m</I><B>)</B>
<dd>
Data:  Return a <B>TABLE</B> object, with (optional) initial size <I>n</I>
and additional extent size <I>m</I>.
<I>Standard</I>.
<p>
<dt>
<B>TAN(</B><I>argument</I><B>)</B>
<dd>
Math: Return tangent of <I>argument</I> in radians.
<I>Catspaw SNOBOL4+ extension?, added in CSNOBOL4 version 0.98.4</I>.
<p>
<dt>
<B>THAW(</B><I>table</I><B>)</B>
<dd>
Data: restores normal entry creation behavior after <B>FREEZE()</B>.
<I>Catspaw SNOBOL4+ extension, added in CSNOBOL4 version 0.98.2</I>.
<p>
<dt>
<B>TIME()</B>
<dd>
Interpreter: Returns program execution time in milliseconds.
<I>Standard (returning INTEGER)</I>.
Returns REAL since CSNOBOL4 0.99.44.
<p>
<dt>
<B>TRACE(</B><I>name,type,id,func</I><B>)</B>
<dd>
Intrepreter: Associates <I>name</I> for <I>type</I> (VALUE, CALL, RETURN,
FUNCTION, LABEL, KEYWORD) tracing;  <I>id</I> is included in trace output;
<I>func</I> is optional name of function to call.  See <a href="snobol4key.1.html"><B>snobol4key</B>(1)</a> for
<B>&amp;TRACE</B> and <B>&amp;FTRACE</B> keywords.
<I>Standard</I>.
<I>SPITBOL 360 extension of first letter of trace type accepted since CSNOBOL4 2.0</I>.
<p>
<dt>
<B>TRIM(</B><I>str</I><B>)</B>
<dd>
String: Returns <I>str</I> with trailing blanks and tabs removed.
<I>Standard</I>.
<p>
<dt>
<B>UNLOAD(</B><I>name</I><B>)</B>
<dd>
Function: Removes the function definition for function <I>name</I>.
<I>Standard</I>.
<p>
<dt>
<B>VALUE(</B><I>name</I><B>)</B>
<dd>
Interpreter:  An &ldquo;accessor&rdquo; function, defined for <B>STRING</B> and <B>NAME</B>,
so that user data types can declare a <B>VALUE</B> field, and allow uniform
treatment of variables and user types.
<I>Standard</I>.
<p>
<dt>
<B>VDIFFER(</B><I>v1,v2</I><B>)</B>
<dd>
Misc: If the two arguments, <B>DIFFER()</B>, the first argument's value is
returned.  This is intended to be used in contexts where <B>DIFFER(X) X</B>
would otherwise have been used.
<I>Extension from Steve Duff's Macro SPITBOL, added in CSNOBOL4 version 0.99.44</I>.
</dl>
<h2>NOTES</h2>
A &ldquo;predicate&rdquo; is a function that either returns the null string or failure.
<p>
An &ldquo;accessor&rdquo; is a function which returns it's value by NAME
(and can be used on the right hand side of an assignment).
<h2>BUGS</h2>
Descriptions are too brief!!
<p>
See 
<a href="http://www.snobol4.org/docs/books.html#green">http://www.snobol4.org/docs/books.html#green</a>
for <I>Standard</I> function definitions.
<p>
Need to research origins of Macro SPITBOL extensions.
<h2>SEE ALSO</h2>
<a href="snobol4.1.html"><B>snobol4</B>(1)</a>,
<a href="snobol4blocks.1.html"><B>snobol4blocks</B>(1)</a>.
</body>
</html>
