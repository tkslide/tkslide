<!-- generated by $Id: snopea.sno,v 1.33 2015-01-02 03:31:20 phil Exp $ -->
<html>
<head>
<title>SNOBOL4(1) | CSNOBOL4B 2.2 | December 5, 2020</title>
</head>
<body>
<h1>SNOBOL4(1) | CSNOBOL4B 2.2 | December 5, 2020</h1>
<h2>NAME</h2>
snobol4 &ndash; SNOBOL4 interpreter
<h2>DESCRIPTION</h2>
This manual page describes CSNOBOL4, a port of the original Bell
Telephone Labs (BTL) Macro Implementation of SNOBOL4 to the C
language.
<p>
The language and its implementation are described in
<a href="#Griswold1971">[Griswold1971] </a>
and 
<a href="#Griswold1972">[Griswold1972]. </a>
<p>
For command line options see <a href="snobol4cmd.1.html"><B>snobol4cmd</B>(1)</a>.
<p>
Extensions from Catspaw SNOBOL4+, SPITBOL and SITBOL have
been added, see <a href="snobol4ext.1.html"><B>snobol4ext</B>(1)</a>.
<p>
Includes BLOCKS (SNOBOL4B) extensions, see <a href="snobol4blocks.1.html"><B>snobol4blocks</B>(1)</a>.
<h3>Changes</h3>
The following behaviors have been changed from the original Macro SNOBOL4
in ways that might effect old programs:
<dl>
<p>
<dt>
<B>INTEGER</B> errors
<dd>
<B>INTEGER</B> overflow does not cause expression failure.
<p>
<dt>
Listings are disabled by default
<dd>
Default listing side (when enabled by <B>-LIST</B> or the <B>-l</B> command
line option is <B>LEFT</B>.  Listings are directed to standard error
(or file specified by the <B>-l</B> command line option.
<p>
<dt>
Messages
<dd>
The the startup banner and statistics (if enabled) are directed to standard error.
<p>
<dt>

<dd>
Compilation error messages (including erroneous lines) appear on
standard error. Error messages reference the source file name and line number.
<p>
<dt>
Character set
<dd>
see below.
<p>
<dt>
<B>INPUT()</B> and <B>OUTPUT()</B>
<dd>
FORTRAN formats are not used to control I/O.
The 3rd argument to the <B>OUTPUT()</B> and <B>INPUT()</B>
functions is interpreted as a string of I/O options,
The 4th argument is used to specify a file name,
see <a href="snobol4io.1.html"><B>snobol4io</B>(1)</a> for details.
<p>
<dt>
<B>PUNCH</B> variable
<dd>
The <B>PUNCH</B> output variable no longer exists,
the <B>TERMINAL</B> variable has been added in it's place,
see <a href="snobol4io.1.html"><B>snobol4io</B>(1)</a>.
<p>
<dt>
Statement separator
<dd>
Control lines and comment characters are valid after the 
(<B>;</B>) statement separator.  Listing statement numbers show the statement
number of the LAST statement on the line (rather than the first).
<p>
<dt>
<B>&amp;STLIMIT</B>
<dd>
<B>&amp;STLIMIT</B> defaults to -1, see <a href="snobol4key.1.html"><B>snobol4key</B>(1)</a>.
<p>
<dt>
Tracing
<dd>
<B>VALUE</B> tracing applies to variables modified by immediate value
assignment (<B>$</B> operator) and value assignment (<B>.</B> operator) during
pattern matching.
</dl>
<h3>Extensions</h3>
Further additions are documented in <a href="snobol4ext.1.html"><B>snobol4ext</B>(1)</a>.
<h3>Character set</h3>
<a href="snobol4.1.html"><B>snobol4</B>(1)</a> is 8-bit clean, and uses the native character set.  Any
8-bit byte is accepted as a SNOBOL datum or in a string constant of a
SNOBOL source program.  The value of the SNOBOL protected keyword
<B>&amp;ALPHABET</B> is a 256-character string of all bytes from 0 to 255,
in ascending order.
<p>
On ASCII-based systems, any character with the 8th bit set is treated
as &ldquo;alphabetic&rdquo;, and can start, or be used in identifiers and
labels.  This includes characters from the &ldquo;upper half&rdquo; of national
character sets and all bytes resulting from the UTF-8 encoding of
Unicode characters.  Include file <B>utf.sno</B> implements
pattern matching functions for UTF-8 sequences.
<p>
Programs may be entered in mixed case; By default lower case
identifiers are folded to upper case (see <B>&amp;CASE</B> and <B>&ndash;CASE</B>).
Case folding is performed by using the C library
<B>islower</B>(3) test, and then using <B>toupper</B>(3) to convert the
lower-case characters to upper case.  When using UTF-8 encoded
characters in code, case folding should be disabled, to prevent any
bytes which appear to be lower case in the current locale from being
modified.
<p>
The following operator character sequences are permitted and represent
a cross between PDP-10 Macro SNOBOL, SITBOL and Catspaw SPITBOL usage:
<p>
<table>
<tr><td>Assignment:<td>=&nbsp;&nbsp;_
<tr><td>Comment line:<td>*&nbsp;&nbsp;#&nbsp;&nbsp;|&nbsp;&nbsp;;&nbsp;&nbsp;!
<tr><td>Continuation line:<td>+&nbsp;&nbsp;.
</table>
<p>
Both square brackets (<B>[]</B>) and angle brackets (<B>&lt;&gt;</B>) may be
used to subscript arrays and tables.  The <B>TAB</B> (ASCII 9) character
is accepted as whitespace.
<p>
Underscore (<B>_</B>) and period (<B>.</B>) are legal <I>within</I> identifiers
and labels.
<p>
Note that the use of the pound sign for comments allows use of the
script interpreter (hash-bang) sequence at the top of a file marked as
executable: &ldquo;<B>#!/usr/local/bin/snobol4</B>&rdquo; or
&ldquo;<B>#!/usr/bin/env snobol4</B>&rdquo;
<p>
See <I>snobol4op</I>(1) for operators.
<h2>DIRECTORY SEARCH LIST</h2>
A directory search list is used for files specified in <B>-INCLUDE</B>
directives and <B>LOAD()</B> function calls, and is constructed from:
<p>
1. The current working directory (&ldquo;.&rdquo;).
<p>
2. Any directories specified on the command line using <B>-I</B> options, in
the order specified.
<p>
3a. Directories from the the <B>SNOPATH</B> environment variable (see below), if defined.
<p>
3b. If <B>SNOPATH</B> is not defined, the <B>SNOLIB</B> environment variable
(or a compiled in default) is used as <I>base</I> to add the following
directories:
<p>
<ul>
<li>
<I>base</I>/<I>version</I>/<B>lib</B>
<li>
<I>base</I>/<I>version</I>/<B>local</B>
<li>
<I>base</I>/<B>local</B>
</ul>
<p>
The <B>LOAD()</B> function will also check for the file in <B>shared</B>
subdirectory in each directory in the search path.
<h2>ENVIRONMENT</h2>
<dl>
<p>
<dt>
<B>SNOBOL4UNBUFFERED</B>
<dd>
If set to a non-null value, all stdio output will be unbuffered,
and will be written immediately.
<p>
<dt>
<B>SNOPATH</B>
<dd>
Is a list of directories delimited by colons (semi-colons on VMS and
Windows) appended to the Directory Search List (see above).
<p>
<dt>
<B>SNOLIB</B>
<dd>
<B>SNOLIB</B> is used to establish the base libary path if
<B>SNOPATH</B> is not defined.  See Directory Search List above.
<B>SNOLIB</B> was the sole search directory in versions of CSNOBOL4 prior
to version 1.5.
<p>
<dt>
<B>SNOBOL_PRELOAD_PATH</B>
<dd>
Is a list of source files delimited by colons (semi-colons on VMS and
Windows) that will be read before the program source.
Using <B>SNOBOL_PRELOAD_PATH</B> will make your code less portable.
</dl>
<h2>SEE ALSO</h2>
<p>
<table>
<tr><td><a href="sdb.1.html"><B>sdb</B>(1)</a><td>SNOBOL4 Debugger
<tr><td><a href="snobol4cmd.1.html"><B>snobol4cmd</B>(1)</a><td>command line options
<tr><td><a href="snobol4ctrl.1.html"><B>snobol4ctrl</B>(1)</a><td>control lines
<tr><td><a href="snobol4error.1.html"><B>snobol4error</B>(1)</a><td><B>&amp;ERRTYPE</B> and <B>&amp;ERRTEXT</B> values
<tr><td><a href="snobol4ext.1.html"><B>snobol4ext</B>(1)</a><td>extensions to BTL SNOBOL4
<tr><td><a href="snobol4func.1.html"><B>snobol4func</B>(1)</a><td>built-in function list
<tr><td><a href="snobol4io.1.html"><B>snobol4io</B>(1)</a><td>input/output
<tr><td><a href="snobol4key.1.html"><B>snobol4key</B>(1)</a><td>keywords
<tr><td><a href="snobol4op.1.html"><B>snobol4op</B>(1)</a><td>operators
<tr><td><a href="snobol4blocks.1.html"><B>snobol4blocks</B>(1)</a><td>SNOBOL4B BLOCKS extension
<tr><td><a href="snopea.1.html"><B>snopea</B>(1)</a><td>convert snopea documentation to roff and HTML
<tr><td><a href="snobol4dirs.3.html"><B>snobol4dirs</B>(3)</a><td>directory access functions
<tr><td><a href="snobol4ezio.3.html"><B>snobol4ezio</B>(3)</a><td>easy to use file I/O
<tr><td><a href="snobol4ffi.3.html"><B>snobol4ffi</B>(3)</a><td>Foreign Function Interface functions
<tr><td><a href="snobol4fork.3.html"><B>snobol4fork</B>(3)</a><td>subprocess interface functions
<tr><td><a href="snobol4host.3.html"><B>snobol4host</B>(3)</a><td>HOST and O/S functions
<tr><td><a href="snobol4logic.3.html"><B>snobol4logic</B>(3)</a><td>bit logic &amp; formatting functions
<tr><td><a href="snobol4ndbm.3.html"><B>snobol4ndbm</B>(3)</a><td>keyed file access functions
<tr><td><a href="snobol4random.3.html"><B>snobol4random</B>(3)</a><td>pseudo-random numbers functions
<tr><td><a href="snobol4readline.3.html"><B>snobol4readline</B>(3)</a><td>input with line editing
<tr><td><a href="snobol4setup.3.html"><B>snobol4setup</B>(3)</a><td>loadable module builder
<tr><td><a href="snobol4sprintf.3.html"><B>snobol4sprintf</B>(3)</a><td>formatting function
<tr><td><a href="snobol4sqlite3.3.html"><B>snobol4sqlite3</B>(3)</a><td>SQLite database interface functions
<tr><td><a href="snobol4sqlite3dbm.3.html"><B>snobol4sqlite3dbm</B>(3)</a><td>DBM interface using SQLite
<tr><td><a href="snobol4stat.3.html"><B>snobol4stat</B>(3)</a><td>file metadata functions
<tr><td><a href="snobol4stcl.3.html"><B>snobol4stcl</B>(3)</a><td>Tcl/Tk interface functions
<tr><td><a href="snobol4time.3.html"><B>snobol4time</B>(3)</a><td>date/time functions
<tr><td><a href="snolib.3.html"><B>snolib</B>(3)</a><td>misc library functions
<tr><td><a href="snopea.7.html"><B>snopea</B>(7)</a><td>A little &ldquo;Plain Old Documentation&rdquo; format for SNOBOL4
</table>
<dl>
<p>
<dt>
<a href="http://www.snobol4.org">http://www.snobol4.org</a>
<dd>
All things SNOBOL4 related.
<p>
<dt>
<a href="http://www.snobol4.com">http://www.snobol4.com</a>
<dd>
Catspaw: commercial SPITBOL implementations, Free SNOBOL4+ for DOS.
<p>
<dt>
<a href="http://www.snobol4.org/doc/burks/tutorial/contents.htm">http://www.snobol4.org/doc/burks/tutorial/contents.htm</a>
<dd>
SNOBOL4 language tutorial (from Catspaw Vanilla SNOBOL4)
<a name="Griswold1971"></a>
<p>
<dt>
[Griswold1971]
<dd>
R. E. Griswold, J. F. Poage, and I. P. Polonsky,
<I>The SNOBOL4 Programming Language</I>, 2nd ed., Prentice-Hall Inc., 1971.
<I>(aka the &ldquo;green book&rdquo;)</I>
<a href="http://www.snobol4.org/docs/books.html#green">http://www.snobol4.org/docs/books.html#green</a>
<a name="Griswold1972"></a>
<p>
<dt>
[Griswold1972]
<dd>
R. E. Griswold,
<I>The Macro Implementation of SNOBOL4</I>, W. H. Freeman and Co., 1972.
Book describing the implementation techniques used in Macro SNOBOL4.
<a href="http://www.snobol4.org/docs/books.html#macro">http://www.snobol4.org/docs/books.html#macro</a>
<p>
<dt>
<a href="http://www.snobol4.org/doc/burks/manual/contents.htm">http://www.snobol4.org/doc/burks/manual/contents.htm</a>
<dd>
Catspaw Vanilla SNOBOL4 manual.
<p>
<dt>
<a href="ftp://ftp.snobol4.com/spitman.pdf">ftp://ftp.snobol4.com/spitman.pdf</a>
<dd>
Catspaw Macro SPITBOL manual
<p>
<dt>
<a href="http://www.snobol4.org/docs/books.html#orange">http://www.snobol4.org/docs/books.html#orange</a>
<dd>
<I>Algorithms in SNOBOL4</I>, James F. Gimpel, Wiley, New York, 1976.
</dl>
<h2>AUTHORS</h2>
Ralph E. Griswold, James F. Poage, Ivan P. Polonsky, et al (Macro SNOBOL4)
<p>
Philip. L. Budne (CSNOBOL4)
<p>
Mark Emmer (code from SNOBOL4+)
<p>
Viktors Berstis (code from Minnesota SNOBOL4)
<p>
James F. Gimpel (SNOBOL4B)
<h2>BUGS</h2>
I/O is still tied to unit numbers.
<p>
I/O retains some record oriented flavor (maximum line length on input).
<p>
&ldquo;Dynamic&rdquo; storage cannot be expanded after startup.
<p>
Integer math can never fail, even on overflow.
<p>
Oversize integer constants may not be detected.
</body>
</html>
