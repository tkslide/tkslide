<!-- generated by $Id: snopea.sno,v 1.33 2015-01-02 03:31:20 phil Exp $ -->
<html>
<head>
<title>SDB(1) | CSNOBOL4B 2.2 | December 5, 2020</title>
</head>
<body>
<h1>SDB(1) | CSNOBOL4B 2.2 | December 5, 2020</h1>
<h2>NAME</h2>
sdb &ndash; SNOBOL4 debugger
<h2>SYNOPSIS</h2>
<B>sdb</B> [ <I>options</I> .&thinsp;.&thinsp;. ] <I>program.sno</I>
<h2>DESCRIPTION</h2>
<B>sdb</B> is a debugger for <a href="snobol4.1.html"><B>snobol4</B>(1)</a> programs, in the mold (clawning
fone) of <B>gdb</B>(1), The GNU debugger.  <a href="sdb.1.html"><B>sdb</B>(1)</a> uses <B>readline</B>(3)
for command line editing/history when available.
<h3>Commands</h3>
<dl>
<p>
<dt>
<B>break</B> <I>LABEL_OR_STATEMENT_NUMBER</I>
<dd>
Set a breakpoint.
<p>
<dt>
<B>bt</B>
<dd>
<br>
Display call stack <I>back trace</I>.
<p>
<dt>
<B>commands</B> <I>BREAKPOINT_NUMBER</I>
<dd>
Add sdb commands to execute (ie; print &amp; continue) to a breakpoint.
<p>
<dt>
<B>condition</B> <I>BREAKPOINT_NUMBER</I> [ <I>EXPR</I> ]
<dd>
If <I>EXPR</I> is supplied, it is used as a predicate to make the
breakpoint conditional, if no <I>EXPR</I> is supplied, any previous condition
is removed.
<p>
<dt>
<B>continue</B> [ <I>COUNT</I> ]
<dd>
Continue from breakpoint.  The optional count specifies how many times
to continue past this breakpoint (sets <B>ignore</B> count).
<p>
<dt>
<B>delete</B> [ <I>BREAKPOINT_NUMBER</I> ]
<dd>
Delete a single breakpoint, or all breakpoints.
<p>
<dt>
<B>disable</B> [ <I>BREAKPOINT_NUMBER</I> ]
<dd>
Temporarily disable a breakpoint, or all breakpoints.
<p>
<dt>
<B>enable</B> [ <I>BREAKPOINT_NUMBER</I> ]
<dd>
Re-enable a breakpoint, or all breakpoints.
<p>
<dt>
<B>finish</B>
<dd>
Resume debugging after current function returns.
Will display function return type and value, if any.
<p>
<dt>
<B>help</B>
<dd>
Display help.
<p>
<dt>
<B>ignore</B> <I>BREAKPOINT_NUMBER</I> [ <I>COUNT</I> ]
<dd>
Set (or clear) breakpoint ignore count.
<p>
<dt>
<B>info</B>
<dd>
Display list of breakpoints and their status.
<p>
<dt>
<B>list</B> [ <I>LABEL_OR_STATEMENT_NUMBER</I> ]
<dd>
Display source code.
<p>
<dt>
<B>next</B> [ <I>COUNT</I> ]
<dd>
Single step execution, skipping over function calls.
<p>
<dt>
<B>print</B> <I>EXPRESSION</I>
<dd>
Evaluate expression and print result.  Can be used to call functions,
or set variables.
<p>
<dt>
<B>quit</B>
<dd>
Exit debugger.
<p>
<dt>
<B>run</B>
<dd>
<br>
Restart program (works by saving breakpoints and restarting snobol4).
New in version 2.1, some restrictions may apply.
<p>
<dt>
<B>save</B> <I>FILENAME</I>
<dd>
Save breakpoints to file.
<p>
<dt>
<B>source</B> <I>FILENAME</I>
<dd>
Read sdb commands from file.
<p>
<dt>
<B>step</B> [ <I>COUNT</I> ]
<dd>
Single step.
<p>
<dt>
<B>watch</B> <I>VARIABLE</I>
<dd>
Set watchpoint on a variable (break when value changes).
<p>
<dt>
<B>what</B> <I>EXPRESSION</I>
<dd>
Display the datatype of expression.
<p>
<dt>
<B>where</B>
<dd>
An alias for <B>bt</B>.
</dl>
<p>
A blank line repeats the previous command.
<p>
Non-ambiguous abbreviations of commands can be used (ie; <B>s</B>, <B>n</B>).
<p>
The GNU Readline library (when available) will be used for <a href="sdb.1.html"><B>sdb</B>(1)</a>
input for command editing and history.
<p>
The keyboard interrupt character (eg; Control-C) will stop a running
program and return control to the <a href="sdb.1.html"><B>sdb</B>(1)</a> command prompt.
<p>
If your program calls the <B>SDB()</B> function, it will act as a
breakpoint.  You can check whether <a href="sdb.1.html"><B>sdb</B>(1)</a> is loaded with the
<B>FUNCTION()</B> predicate, ie;
<pre>
<p>
        FUNCTION('SDB') SDB()
</pre>
<h2>FILES</h2>
<dl>
<p>
<dt>
<B>~/.sdbinit</B>
<dd>
initial command file, read on startup.
<p>
<dt>
<B>.sdb_history</B>
<dd>
saved command history
<p>
<dt>
<B>/tmp/sdb_listing.</B><I>pid</I>
<dd>
temporary listing file for sdb.sno to read
<p>
<dt>
<B>/tmp/sdb_bkpts.</B><I>pid</I>
<dd>
temporary breakpoint save file for "run" command
</dl>
<h2>SEE ALSO</h2>
<a href="snobol4.1.html"><B>snobol4</B>(1)</a>, <B>gdb</B>(1), <B>readline</B>(3), <a href="snobol4readline.3.html"><B>snobol4readline</B>(3)</a>
<h2>AUTHOR</h2>
Philip L. Budne
<p>
Inspired by Fred Weigel's DDT.SNO and <B>SITBOL</B>'s SNODDT.
<h2>LIMITATIONS</h2>
<a href="sdb.1.html"><B>sdb</B>(1)</a> uses a wide variety of system facilities and will interact
poorly with any programs that use any number of features, including:
<p>
<ul>
<li>
Altering listing settings with directive/control lines.
<li>
Altering <B>&STLIMIT</B>, <B>&ERRLIMIT</B>, or <B>&TRACE</B>.
<li>
Calling <B>SETEXIT()</B>
</ul>
<h2>BUGS</h2>
If you try to put a breakpoint on a label or line with no code or goto
fields, the breakpoint will never be triggered.
<p>
You cannot put a breakpoint on the <B>END</B> label (however control
always returns to sdb when the <B>END</B> label is reached).
<p>
Interrupt character trapping is in it's infancy, and only occurs at
the start of a each statement executed.
<p>
The interrupt character is silently ignored when at the <B>sdb</B> command
prompt.
<p>
Leaves an unprotected listing file of the sources in the /tmp directory
(create a protected directory?).
<p>
&ldquo;quit&rdquo; and &ldquo;run&rdquo; commands say program is running even if first
line of the program has not yet been executed!
<p>
Some fatal errors cannot be trapped, and sdb will be terminated.
</body>
</html>
